<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ’Œ</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .hidden {
            display: none;
        }
    </style> 
</head>
<body>
    <h1 id="hello"></h1>
    <div class="container"></div>    
    <div id="messages"></div>
        <i><div id="from" class="hidden"></div></i>
        <img src="start.png" class="hidden"><div id="problem" class="hidden"></div>
        <div id="message" class="hidden"></div>
        <div id="compliment" class="hidden"></div>
        <div id="encouragement" class="hidden"></div>
        <div id="thanks" class="hidden"></div><img src="end.png" class="hidden"><br><br>
        <div id="refer" class="hidden"></div>
        <div class="hidden"><a id="referLink" href="#">Click here</a> to make your own.</div>
    </div>

    <button id="continueButton">Continue</button>
    
    

    <script>
        // JavaScript to read URL parameters and display the message
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name') || 'there';
        const sender = urlParams.get('sender') || 'A friend';
        const problem = urlParams.get('problem') || 'life can be tough sometimes';
        const message = urlParams.get('message') || 'I believe in you and I know you can do it.';
        const compliment = urlParams.get('compliment') || 'you\'re a star';
        const thanks = urlParams.get('thanks') || 'making the world a better place';
        const encouragement = urlParams.get('encouragement') || 'keep being you';
        let referCount = 1;
        if (urlParams.has('refer')) {
            referCount = parseInt(urlParams.get('refer')) + 1;
            document.getElementById('refer').innerText = `Want to pass this message on? You are part of a chain of ${referCount} messages!`;
        } else {
            document.getElementById('refer').innerText = `Want to pass this message on? You could start a chain of messages!`;
        }
        document.getElementById('hello').innerText = `Hi, ${name}.`;
        document.getElementById('referLink').href = `https://isobel-p.loves-being-a.dev/friend-message/write.html?refer=${referCount}`;
        document.getElementById('hello').innerText = `Hi, ${name}.`;
        document.getElementById('from').innerText = `${sender} just wanted to say...`;
        document.getElementById('problem').innerText = `I know ${problem}, but...`;
        document.getElementById('message').innerText = message;
        document.getElementById('thanks').innerText = `Thanks for ${thanks}!`;
        document.getElementById('compliment').innerText = `Remember, ${compliment}...`;
        document.getElementById('encouragement').innerText = `so ${encouragement}!`;
        

        let currentParagraph = 0;
        const paragraphs = document.querySelectorAll('.hidden');
        const continueButton = document.getElementById('continueButton');

        continueButton.addEventListener('click', function() {
            if (currentParagraph < paragraphs.length) {
                paragraphs[currentParagraph].classList.remove('hidden');
                currentParagraph++;
            } else {
                continueButton.disabled = true; // Disable button when all paragraphs are shown
            }
        });
    </script>

</body>
</html>
